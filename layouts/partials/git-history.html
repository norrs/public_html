{{ $history := index .Site.Data "repo-history" }}
{{ if not $history }}
  <p class="empty-state">Git history is currently unavailable. Ensure `scripts/generate_history.py` has run before building.</p>
{{ else }}
  <ol class="git-history">
    {{ range $history }}
      <li>
        <article>
          <header>
            <h2>{{ .subject }}</h2>
            <p class="meta">
              <span>Commit <code>{{ .short }}</code></span>
              <span>by {{ .author }}</span>
              <span>on <time datetime="{{ .date }}">{{ (time .date).Format "Jan 2, 2006 15:04" }}</time></span>
            </p>
          </header>
        </article>
      </li>
    {{ end }}
  </ol>
{{ end }}
